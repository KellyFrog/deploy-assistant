# Deployer assistant

ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹å¸®ä½ å®‰è£…/éƒ¨ç½² git repoï¼Œå†ä¹Ÿä¸ç”¨è´¹å¿ƒè§£å†³ä¾èµ–å’Œç‰ˆæœ¬é—®é¢˜äº†ï¼

ç°åœ¨è¿˜(xin)åœ¨(jian)å¼€(wen)å‘(jian)ä¸­(jia)ï¼Œè®¡åˆ’ä½¿ç”¨ Python + Tkinter è¿›è¡Œå¼€å‘ï¼Œç›®å‰è®¡åˆ’å…ˆæ”¯æŒ windowsã€‚

é¡¹ç›®é€šè¿‡ GPL 3.0 è®¸å¯è¯å¼€æºã€‚

å¤§éƒ¨åˆ†ä»£ç ç”± AI ç”Ÿæˆï¼Œæ•´ä½“æ¶æ„å¦‚ä¸‹ï¼š

ä»¥ä¸‹æ˜¯ AI çš„å¯¹ç›®å‰å·¥ä½œçš„æ€»ç»“ï¼ˆåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨çš„ promptï¼‰ï¼š

```text
æˆ‘æƒ³é€šè¿‡å¤§è¯­è¨€æ¨¡å‹å†™ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œä¸‹é¢æ˜¯æˆ‘çš„éœ€æ±‚ï¼š
åº”ç”¨å°†é€šè¿‡é˜…è¯»æœ¬åœ°gitä»“åº“çš„READMEæ–‡ä»¶å’Œå…¶ä»–æ–‡æ¡£æ¥ç»™ç”¨æˆ·éƒ¨ç½²ä»“åº“æä¾›å¸®åŠ©ã€‚
åœ¨é˜…è¯»æ–‡ä»¶åï¼Œåº”ç”¨éœ€è¦ç»™å‡ºè¯¦ç»†çš„éƒ¨ç½²æŒ‡å—ã€‚
åº”ç”¨éœ€è¦é€šè¿‡GUIå’Œç»ˆç«¯äº¤äº’ï¼Œä½¿å¾—ç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡GUIæŒ‰é’®å‘ç»ˆç«¯å‘é€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚
åº”ç”¨éœ€è¦è¯»å–ç»ˆç«¯å‘½ä»¤çš„è¾“å‡ºå’Œç»“æœï¼Œå¹¶åˆ†åˆ«å‘½ä»¤æ˜¯å¦æ‰§è¡Œå¤±è´¥æˆ–æœªè·å¾—é¢„æœŸç»“æœï¼Œå¦‚æ˜¯ï¼Œåº”ç”¨åº”å½“åˆ†æé—®é¢˜å¹¶ç»™å‡ºä¿®æ”¹å»ºè®®ï¼ˆå¦‚éœ€è¦å®‰è£…çš„ä¾èµ–ã€éœ€è¦æ‰§è¡Œçš„å‘½ä»¤ç­‰ï¼‰ã€‚
æˆ‘è®¡åˆ’åœ¨windowsä¸‹è¿›è¡Œå¼€å‘ï¼Œæœ€ç»ˆåº”ç”¨ä¹Ÿåœ¨windowsä¸‹ä½¿ç”¨ï¼Œå°†æ¥å¯èƒ½ä¼šå¢åŠ linuxç‰ˆæœ¬ï¼Œå› æ­¤éœ€è¦æ³¨æ„å…¼å®¹æ€§ã€‚
æˆ‘æƒ³è®©æˆ‘çš„åº”ç”¨å°½é‡è½»é‡çº§ï¼Œä¼˜å…ˆä½¿ç”¨å·²ç»æœ‰çš„å¼€æºé¡¹ç›®è¿›è¡ŒäºŒæ¬¡å¼€å‘ä»¥å‡å°‘å·¥ä½œé‡ã€‚
æˆ‘å†³å®šé‡‡ç”¨ Python + Tkinter è¿›è¡Œå¼€å‘ï¼Œä¸‹é¢æ˜¯æ¶æ„çš„æ–‡ä»¶æ ‘ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸»è¦çš„æ–‡ä»¶å’Œæ¯ä¸ªæ–‡ä»¶éœ€è¦å®ç°çš„ä¸»è¦æ–¹æ³•ï¼š
ğŸ“¦DeployHelper
â”œâ”€â”€ ğŸ“‚core
â”‚   â”œâ”€â”€ ğŸ“œdocument_parser.py      
â”‚   â”‚   - parse_markdown() -> Dict   # è¿”å›ç»“æ„åŒ–éƒ¨ç½²è¦ç´ 
â”‚   â”‚   - sanitize_content() -> str  # æ–°å¢è¾“å…¥å‡€åŒ–æ–¹æ³•
â”‚   â”œâ”€â”€ ğŸ“œdeployment_steps.py
â”‚   â”‚   - generate_workflow() -> List[Step]
â”‚   â”‚   - validate_step() -> bool    # æ­¥éª¤æœ‰æ•ˆæ€§éªŒè¯
â”‚   â”œâ”€â”€ ğŸ“œterminal_interface.py
â”‚   â”‚   - CommandExecutor
â”‚   â”‚     â”œâ”€â”€ execute_streaming()    # æµå¼æ‰§è¡Œæ¥å£
â”‚   â”‚     â”œâ”€â”€ sanitize_command()     # å‘½ä»¤è¿‡æ»¤æ–¹æ³•
â”‚   â”‚     â””â”€â”€ monitor_process()      # å­è¿›ç¨‹ç›‘æ§
â”‚   â””â”€â”€ ğŸ“œerror_analyzer.py
â”‚       - analyze_stream() -> str    # å®æ—¶é”™è¯¯åˆ†æ
â”‚       - generate_fix() -> List     # ä¿®å¤å»ºè®®ç”Ÿæˆ
â”‚
â”œâ”€â”€ ğŸ“‚ai_processing
â”‚   â”œâ”€â”€ ğŸ“œllm_integration.py
â”‚   â”‚   - SafeLLMClient
â”‚   â”‚     â”œâ”€â”€ safe_request()         # å¸¦é‡è¯•æœºåˆ¶çš„è¯·æ±‚
â”‚   â”‚     â””â”€â”€ validate_schema()      # è¾“å‡ºç»“æ„æ ¡éªŒ
â”‚   â””â”€â”€ ğŸ“œprompt_templates
â”‚       â””â”€â”€ ğŸ“œerror_analysis.jinja2  # æ”¹è¿›å®‰å…¨è¿‡æ»¤æŒ‡ä»¤
â”‚
â”œâ”€â”€ ğŸ“‚gui
â”‚   â”œâ”€â”€ ğŸ“œterminal_emulator.py
â”‚   â”‚   - PowerShellEmulator   # å®ç°ç‰¹æ€§ï¼š
â”‚   â”‚     â”œâ”€â”€ æ¨¡æ‹ŸPSæç¤ºç¬¦
â”‚   â”‚     â”œâ”€â”€ å‘½ä»¤å†å²è®°å½•
â”‚   â”‚     â””â”€â”€ ANSIé¢œè‰²æ”¯æŒ
â”‚   â”œâ”€â”€ ğŸ“œstep_widgets.py
â”‚   â”‚   - æ–°å¢StreamPrinterç»„ä»¶      # æ‰“å­—æœºæ•ˆæœå®ç°
â”‚   â”‚     â”œâ”€â”€ flush_buffer()         # æ–‡æœ¬ç¼“å†²æ§åˆ¶
â”‚   â”‚     â””â”€â”€ set_stream_speed()     # è¾“å‡ºé€Ÿåº¦è°ƒèŠ‚
â”‚
â”œâ”€â”€ ğŸ“‚utils
â”‚   â”œâ”€â”€ ğŸ“œsecurity.py          # å®‰å…¨æ¨¡å—
â”‚   â”‚   - CommandSanitizer
â”‚   â””â”€â”€ ğŸ“œerror_handling.py    # ç»Ÿä¸€å¼‚å¸¸å¤„ç†
â”‚       - ErrorCode æšä¸¾ç±»
â”‚       - exception_handlerè£…é¥°å™¨

æˆ‘å·²ç»å®Œæˆäº† core å’Œ utils æ¨¡å—çš„å¼€å‘ï¼Œä¸‹é¢æ˜¯å·²ç»å®ç°ä»£ç çš„æ¥å£ï¼š

core/document_parser.py
â”œâ”€â”€ MarkdownParser
â”‚   â”œâ”€â”€ parse_markdown(file_path: str)
â”‚   â”‚   â””â†’ è¿”å›: {
â”‚   â”‚       "metadata": {æ€»ç« èŠ‚æ•°, æ€»å‘½ä»¤æ•°},
â”‚   â”‚       "sections": {
â”‚   â”‚           "section_name": {
â”‚   â”‚               "content": "å¤„ç†åçš„æ–‡æœ¬",
â”‚   â”‚               "commands": [æœ‰æ•ˆå‘½ä»¤åˆ—è¡¨]
â”‚   â”‚           }
â”‚   â”‚       }
â”‚   â”‚   }
â”‚   â””â”€â”€ sanitize_content(raw_input: str)
â”‚       â””â†’ è¿”å›: å®‰å…¨å¤„ç†åçš„æ–‡æœ¬
â””â”€â”€ DocumentParseException
    â””â”€â”€ å« error_code, file_path, message
	
core/deployment_steps.py
â”œâ”€â”€ DeploymentStep æ•°æ®ç»“æ„
â”‚   â””â†’ åŒ…å«: 
â”‚       - æ­¥éª¤åç§°
â”‚       - æ‰§è¡Œå‘½ä»¤
â”‚       - é¢„æœŸè¾“å‡º
â”‚       - ä¾èµ–æ­¥éª¤
â”œâ”€â”€ DeploymentWorkflow
â”‚   â”œâ”€â”€ generate_workflow() â†’ æœ‰åºæ­¥éª¤åˆ—è¡¨
â”‚   â”œâ”€â”€ validate_step(step) â†’ æœ‰æ•ˆæ€§å¸ƒå°”
â”‚   â””â”€â”€ ç§æœ‰æ–¹æ³•å®ç°:
â”‚       - æ–‡æ¡£ç»“æ„è§£æ
â”‚       - ä¾èµ–è§£æ
â”‚       - ç¯è·¯æ£€æµ‹
â””â”€â”€ CycleDependencyError â†’ ä¾èµ–å¼‚å¸¸

core/terminal_interface.py
â””â”€â”€ CommandExecutor
    â”œâ”€â”€ execute_streaming(command, callback, cwd)
    â”‚   â””â†’ è¿”å›: è¿›ç¨‹é€€å‡ºç 
    â”œâ”€â”€ sanitize_command(raw) â†’ å®‰å…¨å‘½ä»¤æˆ–None
    â””â”€â”€ stop_execution() â†’ ç»ˆæ­¢å½“å‰è¿›ç¨‹
	
utils/error_handling.py
â”œâ”€â”€ ErrorCode æšä¸¾
â”‚   â””â†’ åŒ…å«ä¸ƒç§é”™è¯¯ç±»å‹
â”œâ”€â”€ BaseAppException
â”‚   â””â†’ å« code, message, detail
â”œâ”€â”€ SecurityException â†’ å±é™©æ“ä½œå¼‚å¸¸
â”œâ”€â”€ LLMException â†’ AIå¤„ç†å¼‚å¸¸
â””â”€â”€ exception_handler è£…é¥°å™¨
    â””â†’ åŠŸèƒ½:
        - å¼‚å¸¸æ•è·
        - ä¸Šä¸‹æ–‡è®°å½•
        - è‡ªåŠ¨æ—¥å¿—
		
utils/security.py
â””â”€â”€ CommandSanitizer
    â”œâ”€â”€ detect_injection(input) â†’ é£é™©å¸ƒå°”
    â”œâ”€â”€ sanitize_command(raw) â†’ å®‰å…¨å‘½ä»¤
    â””â”€â”€ sanitize_path(raw) â†’ å®‰å…¨è·¯å¾„

ç°åœ¨è¯·å¸®æˆ‘å®Œæˆ ai_processing éƒ¨åˆ†çš„ä»£ç ã€‚
è¯·æ³¨æ„æ¥å£çš„ä¸€è‡´æ€§ï¼Œç”¨æˆ·å¯èƒ½ä½¿ç”¨ä¸åŒçš„å¤§è¯­è¨€æ¨¡å‹ï¼Œè¦ç•™å‡ºä¾›ç”¨æˆ·è®¾ç½®çš„æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨openaiåº“ã€‚
æ³¨æ„éœ€è¦ GUI éƒ¨åˆ†éœ€è¦æµå¼å“åº”ï¼Œå› æ­¤åœ¨ä»£ç ä¸­éœ€è¦æœ‰å¯¹åº”çš„å†™æ³•ã€‚
```